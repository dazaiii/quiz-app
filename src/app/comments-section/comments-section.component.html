<h2 mat-dialog-title>{{ quizCategory }} quiz comments</h2>
<form [formGroup]="commentForm" class="example-form">
  <mat-dialog-content>
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Email</mat-label>
      <input
        type="email"
        matInput
        formControlName="email"
        placeholder="Example: email@example.com"
        required
      />
      <mat-error
        *ngIf="email?.hasError('email') && !email?.hasError('required')"
      >
        Please enter a valid email address
      </mat-error>
      <mat-error *ngIf="email?.hasError('required')">
        Email address is required
      </mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Leave a comment</mat-label>
      <textarea
        type="text"
        matInput
        formControlName="text"
        placeholder="Let others know what you think"
        required
      ></textarea>
      <mat-error *ngIf="text?.hasError('required') && text?.touched">
        Comment area cannot be empty
      </mat-error>
      <mat-error
        *ngIf="text?.hasError('whitespace') && !text?.hasError('required')"
      >
        Enter valid text
      </mat-error>
    </mat-form-field>
    <div class="dialog-buttons">
      <button mat-button mat-dialog-close>Cancel</button>
      <button mat-button (click)="onSubmit(commentForm)">Submit</button>
    </div>

    <div *ngFor="let comment of comments">
      <div class="comment-section__item">
        <mat-icon class="user-icon">perm_identity</mat-icon>
        <div class="comment-section__text">
          <div><strong>Email:</strong> {{ comment.email }}</div>
          <div class="comment-section__comment">
            <strong>Comment:</strong> {{ comment.comment }}
          </div>
        </div>
      </div>
      <div class="comment-section__space"></div>
    </div>
  </mat-dialog-content>
</form>
